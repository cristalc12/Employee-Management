/* Alter Employee Table to have SSN */
ALTER TABLE employees
ADD ssn varchar(9) UNIQUE;

/*Address Table */

CREATE TABLE address (
    empid int NOT NULL,
    Name varchar(100) DEFAULT NULL,
    city varchar(50) NOT NULL,
    AddressLine1 varchar(50) NOT NULL,
    AddressLine2 varchar(50) DEFAULT NULL,
    State varchar(50) DEFAULT NULL,
    Country varchar(50) NOT NULL,
    PostalCode varchar(15) NOT NULL,
    gender varchar(1) NOT NULL,
    pronoun varchar(10) NOT NULL,
    race varchar(50) NOT NULL,
    dob date NOT NULL,
    mobile varchar(10) NOT NULL
) 

/*Creates index for the foreign keys. Use them after the tables are made.**/

CREATE INDEX idx_employee_division ON employee_division(empid);

CREATE INDEX idx_payroll ON payroll(empid);

CREATE INDEX idx_employee_job_titles ON employee_job_titles(empid);

CREATE INDEX idx_job_titles ON job_titles(job_title_id);

CREATE INDEX idx_division ON division(ID);

CREATE INDEX idx_address ON address(empid);

/*Sets up the Primary-Foreign Key Connections */

ALTER TABLE employees
ADD PRIMARY KEY (empid),

ALTER TABLE employee_division
ADD CONSTRAINT FK_employee_division FOREIGN KEY (empid) REFERENCES employee_division(empid);

ALTER TABLE payroll
ADD CONSTRAINT FK_payroll FOREIGN KEY (empid) REFERENCES payroll(empid);

ALTER TABLE employee_job_titles
ADD CONSTRAINT FK_employee_job_titles FOREIGN KEY (empid) REFERENCES employee_job_titles(empid);

ALTER TABLE address
ADD CONSTRAINT FK_address FOREIGN KEY (empid) REFERENCES address(empid);

/*Connects primary key of employees to foreign keys of employee_division, payroll, employee_job_titles, and address */

ALTER TABLE employee_division 
ADD PRIMARY KEY (div_ID),
ADD CONSTRAINT FK_division FOREIGN KEY (ID) REFERENCES division(ID);

/*Connects primary key of employee_division to foreign key of division */


ALTER TABLE employee_job_titles  
ADD PRIMARY KEY (job_title_id),
ADD CONSTRAINT FK_job_titles FOREIGN KEY (job_title_id) REFERENCES job_titles(job_title_id);

/*Connects primary key of employee_job_titles to foreign key of division job_titles*/
